<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vicente Coimbra — Autor</title>
  <meta name="description" content="Site oficial de Vicente Coimbra, autor português de prosa poética e poesia." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0f0f10; --fg:#f6f6f6; --muted:#b9bcc3; --wine:#7a0f2b; --wine-2:#9c1336; --line:#26272b; --card:#16171a; --gold:#c2a35f; --radius:16px; --container:1120px;}
    *{box-sizing:border-box} html,body{height:100%} body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Helvetica Neue",sans-serif;color:var(--fg);background:radial-gradient(1200px 800px at 80% -10%, rgba(122,15,43,.25), transparent 60%), var(--bg);line-height:1.65}
    h1,h2,h3,h4{font-family:Merriweather,Georgia,serif;margin:0 0 .5rem;line-height:1.25} p{margin:0 0 1rem} a{color:var(--fg);text-decoration:none} img{max-width:100%;display:block}
    .container{max-width:var(--container);margin:0 auto;padding:0 1.25rem}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.85rem 1.1rem;border-radius:999px;font-weight:600;border:1px solid transparent;transition:.2s ease}
    .btn-primary{background:var(--wine);border-color:var(--wine)} .btn-primary:hover{background:var(--wine-2);border-color:var(--wine-2);transform:translateY(-1px)}
    .btn-ghost{border-color:var(--line);background:transparent;color:var(--fg)} .btn-ghost:hover{border-color:var(--wine);color:#fff}
    .pill{display:inline-block;padding:.25rem .6rem;border:1px solid var(--line);border-radius:999px;font-size:.75rem;color:var(--muted)}
    header.site-header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(120%) blur(8px);background:rgba(15,15,16,.7);border-bottom:1px solid var(--line)} .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:baseline;gap:.5rem} .brand .logo{width:28px;height:28px;border-radius:6px;background:linear-gradient(135deg,var(--wine),#2a0b15 60%);border:1px solid #3a101d;box-shadow:0 2px 10px rgba(122,15,43,.25)}
    .nav ul{list-style:none;display:flex;gap:1rem;padding:0;margin:0} .nav a{padding:.5rem .75rem;border-radius:8px} .nav a:hover{background:rgba(122,15,43,.15)}
    .menu-toggle{display:none;background:transparent;border:1px solid var(--line);color:var(--fg);padding:.55rem .75rem;border-radius:10px}
    @media (max-width:860px){.nav ul{display:none;position:absolute;left:0;right:0;top:64px;background:rgba(15,15,16,.98);padding:.75rem 1rem;border-bottom:1px solid var(--line)} .nav ul.open{display:grid;gap:.25rem} .menu-toggle{display:inline-flex} .nav-actions{display:none}}
    .hero{display:grid;gap:2rem;padding:3.5rem 0 2rem;align-items:center} .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:2rem}
    .hero h1 span.acento{color:var(--gold)} .hero .kicker{color:var(--muted);text-transform:uppercase;font-weight:700;letter-spacing:.12em;font-size:.8rem} .hero .lead{font-size:1.15rem;color:#eaecef}
    .hero-card{background:linear-gradient(180deg, rgba(22,23,26,.9) 0%, rgba(14,14,15,.85) 100%);border:1px solid var(--line);border-radius:var(--radius);overflow:hidden}
    .hero-card .media{aspect-ratio:4/5;background:#1a1b1f} .hero-card .media img{object-fit:cover;width:100%;height:100%} .hero-cta{display:flex;flex-wrap:wrap;gap:.6rem;margin-top:1rem}
    section{padding:3rem 0} .section-head{display:flex;align-items:end;justify-content:space-between;gap:1rem;margin-bottom:1.25rem} .section-head p{color:var(--muted)}
    .sobre{display:grid;grid-template-columns:.9fr 1.1fr;gap:2rem}
    .sobre .foto{aspect-ratio:4/5;border-radius:var(--radius);overflow:hidden;background:#141518;border:1px solid var(--line)}
    .cv{display:grid;gap:.5rem;padding:1rem;background:var(--card);border:1px solid var(--line);border-radius:var(--radius)}
    .livros-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem} @media(max-width:980px){.livros-grid{grid-template-columns:repeat(2,1fr)}} @media(max-width:640px){.livros-grid{grid-template-columns:1fr}}
    .book{position:relative;background:var(--card);border:1px solid var(--line);border-radius:var(--radius);overflow:hidden;display:grid;grid-template-rows:auto 1fr auto}
    .book .cover{aspect-ratio:3/4;background:#1a1b1f} .book .cover img{width:100%;height:100%;object-fit:cover} .book .content{padding:1rem}
    .book .badges{position:absolute;top:.75rem;left:.75rem;display:flex;gap:.35rem;flex-wrap:wrap} .book .badge{background:rgba(122,15,43,.9);color:#fff;font-size:.7rem;padding:.25rem .5rem;border-radius:6px;border:1px solid #450b18}
    .book .actions{padding:1rem;border-top:1px solid var(--line);display:flex;gap:.5rem;flex-wrap:wrap}
    .cta{background:linear-gradient(180deg, rgba(122,15,43,.08), transparent 35%);border-top:1px solid var(--line);border-bottom:1px solid var(--line)}
    .newsletter form{display:grid;grid-template-columns:1fr auto;gap:.5rem} .newsletter input[type=email]{width:100%;padding:.85rem 1rem;border-radius:999px;border:1px solid var(--line);background:#0e0f12;color:var(--fg)}
    @media(max-width:640px){.newsletter form{grid-template-columns:1fr}}
    footer{border-top:1px solid var(--line);padding:2rem 0;color:var(--muted)}
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="container nav" aria-label="Navegação principal">
      <a class="brand" href="#inicio" aria-label="Início">
        <span class="logo" aria-hidden="true"></span>
        <strong>Vicente Coimbra</strong>
        <span class="pill">Autor</span>
      </a>
      <nav>
        <button class="menu-toggle" aria-expanded="false" aria-controls="menu" id="menuToggle">Menu</button>
        <ul id="menu" aria-label="Menu">
          <li><a href="#inicio">Início</a></li>
          <li><a href="#livros">Livros</a></li>
          <li><a href="#sobre">Sobre</a></li>
          <li><a href="#blog">Blog</a></li>
          <li><a href="#contacto">Contacto</a></li>
          <li><a href="/admin/">Admin</a></li>
        </ul>
      </nav>
      <div class="nav-actions">
        <a class="btn btn-ghost" href="#newsletter">Amostra grátis</a>
        <a class="btn btn-primary" href="#livros">Comprar livros</a>
      </div>
    </div>
  </header>

  <main id="inicio">
    <section class="hero">
      <div class="container hero-grid">
        <div>
          <p class="kicker" id="hero_kicker">—</p>
          <h1 id="hero_title">—</h1>
          <p class="lead" id="hero_lead">—</p>
          <div class="hero-cta">
            <a class="btn btn-primary" href="#newsletter">Baixar primeiro capítulo grátis</a>
            <a class="btn btn-ghost" href="#livros">Ver catálogo</a>
          </div>
          <div class="social" aria-label="Redes sociais">
            <a id="ig" href="#" aria-label="Instagram">Instagram</a>
            <a id="fb" href="#" aria-label="Facebook">Facebook</a>
            <a id="gr" href="#" aria-label="Goodreads">Goodreads</a>
            <a id="yt" href="#" aria-label="YouTube">YouTube</a>
            <a id="tw" href="#" aria-label="X/Twitter">X</a>
          </div>
        </div>
        <aside class="hero-card" aria-label="Retrato do autor">
          <div class="media">
            <img src="images/uploads/retrato.jpg" alt="Foto profissional do autor Vicente Coimbra" loading="lazy" />
          </div>
          <div class="content" style="padding:1rem;">
            <p style="color:var(--muted)">“Entre o que parte e o que permanece, há o homem.” — <em>Do Ir Para Não Voltar</em></p>
          </div>
        </aside>
      </div>
    </section>

    <section id="livros" aria-labelledby="livros-title">
      <div class="container">
        <div class="section-head">
          <div>
            <h2 id="livros-title">Livros publicados</h2>
            <p>Catálogo com capas, sinopses e links de compra.</p>
          </div>
          <div><a class="btn btn-primary" href="#newsletter">Receber amostra grátis</a></div>
        </div>
        <div class="livros-grid" id="books_grid" role="list"></div>
      </div>
    </section>

    <section id="sobre" aria-labelledby="sobre-title">
      <div class="container sobre">
        <div class="foto" aria-label="Foto casual do autor no processo de escrita">
          <img src="images/uploads/foto-casual.jpg" alt="Vicente Coimbra a escrever num caderno" loading="lazy" />
        </div>
        <div>
          <h2 id="sobre-title">Sobre o autor</h2>
          <p>Vicente Coimbra é o pseudónimo literário de João Simões (Coimbra, 1969). Autor de prosa poética e poesia, escreve a partir da memória, da perda e da permanência. A sua obra procura “corromper” o leitor no melhor sentido: que ninguém acabe igual depois de ler.</p>
          <p>Viveu onze anos no seminário, experiência que acende tensões entre fé e lucidez presentes na sua escrita. Filho de uma mãe crente e de um pai alfaiate, traz para a página a ética do cuidado, a dignidade simples, e uma linguagem exigente mas hospitaleira.</p>
          <p>Publicou <em>As Penas do Corvo</em> (poesia), <em>Do Ir Para Não Voltar</em> (prosa poética) e prepara <em>Um Homem de Bem</em> (romance). Os textos circulam também em crónicas de prosa poética em jornais locais.</p>
          <div class="cv" aria-label="Currículo literário">
            <strong>Trajetória & destaques</strong>
            <ul>
              <li>Leituras públicas e lançamentos em Coimbra e Montemor-o-Velho.</li>
              <li>Crónicas publicadas na secção “Fala o Leitor” (prosa poética).</li>
              <li>Projeto poético em curso com mais de 300 poemas inéditos (2024–2025).</li>
              <li>Temas: memória, ética do quotidiano, persistência, lucidez sem cinismo.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="newsletter" class="cta" aria-labelledby="cta-title">
      <div class="container">
        <div class="section-head">
          <h2 id="cta-title">Junte-se ao Clube do Leitor</h2>
          <p>Receba o primeiro capítulo grátis e conteúdos exclusivos.</p>
        </div>
        <div class="newsletter container">
          <form action="#" method="post" aria-label="Subscrever newsletter">
            <label class="sr-only" for="email">O seu email</label>
            <input id="email" type="email" name="email" placeholder="o.seu@email.pt" required>
            <button class="btn btn-primary" type="submit">Quero a amostra grátis</button>
          </form>
        </div>
      </div>
    </section>

    <section id="contacto" aria-labelledby="contacto-title">
      <div class="container">
        <h2 id="contacto-title">Contacto</h2>
        <p>Para convites e imprensa: <a id="contact_email" href="#">contacto@vicente-coimbra.pt</a></p>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="container" style="display:flex;justify-content:space-between;gap:1rem;flex-wrap:wrap;">
      <small>© <span id="year"></span> Vicente Coimbra. Todos os direitos reservados.</small>
      <small><a href="#">Política de Privacidade</a> · <a href="#">Termos</a></small>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const toggle = document.getElementById('menuToggle');
    const menu = document.getElementById('menu');
    toggle?.addEventListener('click', () => {
      const open = menu.classList.toggle('open');
      toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    async function loadJSON(url){ const r = await fetch(url, {cache:'no-store'}); if(!r.ok) throw new Error('Falha a carregar '+url); return r.json(); }

    (async () => {
      try {
        const settings = await loadJSON('/content/settings.json');
        const books = await loadJSON('/content/books.json');
        // Hero
        document.getElementById('hero_kicker').textContent = settings.hero_kicker || '';
        document.getElementById('hero_title').textContent = settings.hero_title || '';
        document.getElementById('hero_lead').textContent  = settings.hero_lead  || '';
        const links = {ig:'instagram', fb:'facebook', gr:'goodreads', yt:'youtube', tw:'x'};
        for (const [id,key] of Object.entries(links)){
          const el = document.getElementById(id);
          if (el && settings[key]) el.href = settings[key];
        }
        const mail = settings.email || 'contacto@vicente-coimbra.pt';
        const mailEl = document.getElementById('contact_email');
        if(mailEl){ mailEl.href = 'mailto:'+mail; mailEl.textContent = mail; }

        // Books
        const grid = document.getElementById('books_grid');
        grid.innerHTML = '';
        (books.items || []).forEach(b => {
          const badge = b.badge ? `<span class="badge">${b.badge}</span>` : '';
          const buy = b.links?.buy ? `<a class="btn btn-primary" href="${b.links.buy}">Comprar</a>` : '';
          const sample = b.links?.sample ? `<a class="btn btn-ghost" href="${b.links.sample}">Ler amostra</a>` : '';
          const kobo = b.links?.kobo ? `<a class="btn btn-ghost" href="${b.links.kobo}">Kobo</a>` : '';
          const amazon = b.links?.amazon ? `<a class="btn btn-ghost" href="${b.links.amazon}">Amazon</a>` : '';
          const html = `
            <article class="book" role="listitem">
              <div class="badges">${badge}</div>
              <div class="cover"><img src="${b.cover}" alt="Capa do livro ${b.title}" loading="lazy"></div>
              <div class="content">
                <h3>${b.title}</h3>
                <p>${b.synopsis || ''}</p>
              </div>
              <div class="actions">
                ${buy}${sample}${kobo}${amazon}
              </div>
            </article>`;
          grid.insertAdjacentHTML('beforeend', html);
        });
      } catch(e){
        console.error(e);
      }
    })();
  </script>
</body>
</html>
